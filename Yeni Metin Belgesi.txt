import discord
from discord.ext import commands

class Biography(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        self.biographies = {}

    def save_biography(self, user_id, biography):
        self.biographies[user_id] = biography

    def get_biography(self, user_id):
        return self.biographies.get(user_id)

    def delete_biography(self, user_id):
        del self.biographies[user_id]

    @commands.command()
    async def setbio(self, ctx, *, biography: str):
        self.save_biography(ctx.author.id, biography)
        await ctx.send("Biyografiniz başarıyla kaydedildi.")

    @commands.command()
    async def bio(self, ctx, member: discord.Member = None):
        if member is None:
            member = ctx.author

        biography = self.get_biography(member.id)

        if biography is None:
            await ctx.send("Bu kullanıcının biyografisi yok.")
        else:
            embed = discord.Embed(title=f"{member.name} Biyografisi", description=biography, color=discord.Color.blue())
            await ctx.send(embed=embed)

    @commands.command()
    async def deletebio(self, ctx):
        self.delete_biography(ctx.author.id)
        await ctx.send("Biyografiniz silindi.")

def setup(bot):
    bot.add_cog(Biography(bot))
